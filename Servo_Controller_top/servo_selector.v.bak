
// ceil(log2(N)) Preprocessor Macro
`define clog2(x) ( \
	((x) <= 2) ? 1 : \
	((x) <= 4) ? 2 : \
	((x) <= 8) ? 3 : \
	((x) <= 16) ? 4 : \
	((x) <= 32) ? 5 : \
	((x) <= 64) ? 6 : \
	((x) <= 128) ? 7 : \
	((x) <= 256) ? 8 : \
	((x) <= 512) ? 9 : \
	((x) <= 1024) ? 10 : \
	((x) <= 2048) ? 11 : \
	((x) <= 4096) ? 12 : 16)





module servo_selector #(


parameter n_channels =4,
parameter addr_bus_width=clog2(n_channels)
)
(
   input clk,
	input duty_cycle_value,
	input latch,
	input [addr_bus_width-1:0] address,
	output [n_channels-1:0] pwm_o
	);
	
	
	
	reg [n_channels-1:0] pwm_carrier